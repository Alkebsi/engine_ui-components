import{b as L,g as N,_ as ne,J as $,s as F,W as P,h as j,A as oe,I as J,j as B,l as q,q as ie,r as re,t as Q,v as Y,w as K,y as se,S as ae,z as ce,C as U,P as k,H as V,x as S,K as le,N as ue,Q as de,f as G,u as fe}from"./index-CkGX2cDx.js";const me=t=>{const{components:i}=t,o=t.schemaTag??!0,d=t.viewDefinitionTag??!0,s=i.get(L),r=document.createElement("bim-table");r.addEventListener("cellcreated",({detail:u})=>{const{cell:n}=u;n.style.padding="0.25rem 0"}),r.hiddenColumns=["modelID"],r.headersHidden=!0;const l=[];for(const[,u]of s.groups){if(!u)continue;const n={data:{Name:u.name||u.uuid,modelID:u.uuid}};l.push(n)}return r.dataTransform={Name:(u,n)=>{const{modelID:f}=n;if(typeof f!="string")return u;const p=s.groups.get(f);if(!p)return f;const g={};for(const b of p.items)g[b.id]=b.ids;let e;const{schema:a}=p.ifcMetadata;o&&a&&(e=N`
          <bim-label style="background-color: var(--bim-ui_main-base); padding: 0 0.25rem; color: var(--bim-ui_main-contrast); border-radius: 0.25rem;">${a}</bim-label>
          `);let I;if(d&&"viewDefinition"in p.ifcMetadata){const b=p.ifcMetadata.viewDefinition;I=N`
          ${b.split(",").map(c=>N`<bim-label style="background-color: var(--bim-ui_main-base); padding: 0 0.25rem; color: var(--bim-ui_main-contrast); border-radius: 0.25rem;">${c}</bim-label>`)}
        `}return N`
       <div style="display: flex; flex: 1; gap: var(--bim-ui_size-4xs); justify-content: space-between; overflow: auto;">
        <div style="display: flex; flex-wrap: wrap; align-items: center; gap: 0 var(--bim-ui_size-4xs); flex-grow: 1; overflow: auto;">
          <div style="min-height: 1.75rem; overflow: auto; display: flex;">
            <bim-label style="white-space: normal;">${u}</bim-label>
          </div>
          <div style="display: flex; flex-wrap: wrap; gap: var(--bim-ui_size-4xs); overflow: auto;">
            ${e}
            ${I}
          </div>
        </div>
        <div style="display: flex; gap: var(--bim-ui_size-4xs); align-self: flex-start; flex-shrink: 0;">
          <bim-button @click=${b=>{const c=i.get(ne),m=b.target;c.set(m.hasAttribute("data-model-hidden"),g),m.toggleAttribute("data-model-hidden"),m.icon=m.hasAttribute("data-model-hidden")?"mdi:eye-off":"mdi:eye"}} icon="mdi:eye"></bim-button>
          <bim-button @click=${()=>s.disposeGroup(p)} icon="mdi:delete"></bim-button>
        </div>
       </div>
      `}},r.data=l,N`
    <div>
      ${l.length===0?N`<bim-label>No models has been loaded yet</bim-label>`:r}
    </div>
  `},pe=(t,i=!0)=>{const o=$.create(me,t);if(i){const{components:d}=t,s=d.get(L),[,r]=o;s.onFragmentsLoaded.add(()=>setTimeout(()=>r())),s.onFragmentsDisposed.add(()=>r())}return o},ge=Object.freeze(Object.defineProperty({__proto__:null,modelsList:pe},Symbol.toStringTag,{value:"Module"})),X=["Name","ContainedInStructure","ForLayerSet","LayerThickness","HasProperties","HasAssociations","HasAssignments","HasPropertySets","PredefinedType","Quantities","ReferencedSource","Identification",t=>t.includes("Value"),t=>t.startsWith("Material"),t=>t.startsWith("Relating"),t=>{const i=["IsGroupedBy","IsDecomposedBy"];return t.startsWith("Is")&&!i.includes(t)}];async function M(t,i,o,d=X,s=!1){const r=t.get(P),l=await i.getProperties(o);if(!l)return{data:{Entity:`${o} properties not found...`}};const u=r.relationMaps[i.uuid],n={data:{}};for(const f in l){const p=d.map(e=>typeof e=="string"?f===e:e(f)).includes(!0);if(!(f==="type"||p))continue;const g=l[f];if(g)if(g.type===5){n.children||(n.children=[]);const e=await M(t,i,g.value,d,s);n.children.push(e)}else if(typeof g=="object"&&!Array.isArray(g)){const{value:e,type:a}=g;if(s)a===1||a===2||a===3||(n.data[f]=e);else{const I=typeof e=="number"?Number(e.toFixed(3)):e;n.data[f]=I}}else if(Array.isArray(g))for(const e of g){if(e.type!==5)continue;n.children||(n.children=[]);const a=await M(t,i,e.value,d,s);n.children.push(a)}else if(f==="type"){const e=j[g];n.data.Entity=e}else n.data[f]=g}if(u&&u.get(l.expressID)){const f=u.get(l.expressID);for(const p of d){const g=[];if(typeof p=="string"){const e=r._inverseAttributes.indexOf(p);e!==-1&&g.push(e)}else{const e=r._inverseAttributes.filter(a=>p(a));for(const a of e){const I=r._inverseAttributes.indexOf(a);g.push(I)}}for(const e of g){const a=f.get(e);if(a)for(const I of a){const w=await M(t,i,I,d,s);n.children||(n.children=[]),n.children.push(w)}}}}return n}const he=t=>{const{components:i,fragmentIdMap:o,attributesToInclude:d,editable:s,tableDefinition:r}=t,l=i.get(L);let u;return typeof d=="function"?u=d(X):u=d,N`<bim-table ${F(async f=>{if(!f)return;const p=f,g=[],e=[];for(const a in o){const I=l.list.get(a);if(!(I&&I.group))continue;const w=I.group,C=e.find(b=>b.model===w);if(C)for(const b of o[a])C.expressIDs.add(b);else{const b={model:w,expressIDs:new Set(o[a])};e.push(b)}}for(const a of e){const{model:I,expressIDs:w}=a;for(const C of w){const b=await M(i,I,C,u,s);g.push(b)}}p.dataTransform=r,p.data=g,p.columns=[{name:"Entity",width:"minmax(15rem, 1fr)"}]})}></bim-table>`},ye=t=>$.create(he,t),be=Object.freeze(Object.defineProperty({__proto__:null,entityAttributes:ye},Symbol.toStringTag,{value:"Module"}));function Ie(t){const i=Object.keys(t).pop();return i&&t[i].length>0?t[i][0]:""}function Z(t){return t.map(i=>{const o={data:{System:Ie(i.filter)}};return i.children&&i.children.length>0&&(o.children=Z(i.children)),o})}const Ce=t=>{const{components:i,classifications:o}=t,d=i.get(oe),s=r=>{if(!r)return;const l=r;l.dataTransform={Actions:f=>f};const u=(f,p={})=>{const g=d.list,e=f[0],a=g[e],I=[];if(!e||!a)return I;for(const w in a){const C={...p,[e]:[w]},b=d.find(C);if(Object.keys(b).length>0){const m={filter:C};m.children=u(f.slice(1),C),I.push(m)}}return I},n=[];for(const f in o){const p=o[f],g=u(p),e=Z(g);n.push({data:{System:f},children:e})}l.data=n};return N`
  <div>
    ${Object.keys(o).length===0?N`<bim-label label="No classifications to show"></bim-label>`:N`<bim-table ${F(s)} headers-hidden expanded></bim-table>`}
  </div>
  `},we=(t,i=!0)=>{const o=$.create(Ce,t);if(i){const{components:d}=t,s=d.get(L),[,r]=o;s.onFragmentsDisposed.add(()=>r())}return o},xe=Object.freeze(Object.defineProperty({__proto__:null,classificationTree:we},Symbol.toStringTag,{value:"Module"})),Ne=["OwnerHistory","ObjectPlacement","CompositionType"],H=async(t,i,o)=>{const s={...{groupName:"Attributes",includeClass:!1},...o},{groupName:r,includeClass:l}=s,u=await t.getProperties(i)??{},n={data:{Name:r}};l&&(n.children||(n.children=[]),n.children.push({data:{Name:"Class",Value:j[u.type]}}));for(const f in u){if(Ne.includes(f))continue;const p=u[f];if(p&&typeof p=="object"&&!Array.isArray(p)){if(p.type===se)continue;const g={data:{Name:f,Value:p.value}};n.children||(n.children=[]),n.children.push(g)}}return n},Ae=async(t,i)=>{const o={data:{Name:"Property Sets"}};for(const d of i){const s=await t.getProperties(d);if(!s)continue;const r={data:{Name:s.Name.value}};if(s.type===J){for(const l of s.HasProperties){const{value:u}=l,n=await t.getProperties(u);if(!n)continue;const f=Object.keys(n).find(g=>g.includes("Value"));if(!(f&&n[f]))continue;const p={data:{Name:n.Name.value,Value:n[f].value}};r.children||(r.children=[]),r.children.push(p)}r.children&&(o.children||(o.children=[]),o.children.push(r))}}return o},Se=async(t,i)=>{const o={data:{Name:"Quantity Sets"}};for(const d of i){const s=await t.getProperties(d);if(!s)continue;const r={data:{Name:s.Name.value}};if(s.type===B){for(const l of s.Quantities){const{value:u}=l,n=await t.getProperties(u);if(!n)continue;const f=Object.keys(n).find(g=>g.includes("Value"));if(!(f&&n[f]))continue;const p={data:{Name:n.Name.value,Value:n[f].value}};r.children||(r.children=[]),r.children.push(p)}r.children&&(o.children||(o.children=[]),o.children.push(r))}}return o},Re=async(t,i)=>{const o={data:{Name:"Materials"}};for(const d of i){const s=await t.getProperties(d);if(s&&s.type===q){const r=s.ForLayerSet.value,l=await t.getProperties(r);if(!l)continue;for(const u of l.MaterialLayers){const{value:n}=u,f=await t.getProperties(n);if(!f)continue;const p=await t.getProperties(f.Material.value);if(!p)continue;const g={data:{Name:"Layer"},children:[{data:{Name:"Thickness",Value:f.LayerThickness.value}},{data:{Name:"Material",Value:p.Name.value}}]};o.children||(o.children=[]),o.children.push(g)}}if(s&&s.type===Y)for(const r of s.Materials){const{value:l}=r,u=await t.getProperties(l);if(!u)continue;const n={data:{Name:"Name",Value:u.Name.value}};o.children||(o.children=[]),o.children.push(n)}if(s&&s.type===Q){const r=await t.getProperties(d);if(!r)continue;const l={data:{Name:"Name",Value:r.Name.value}};o.children||(o.children=[]),o.children.push(l)}}return o},De=async(t,i)=>{var d,s;const o={data:{Name:"Classifications"}};for(const r of i){const l=await t.getProperties(r);if(l&&l.type===K){const{value:u}=l.ReferencedSource,n=await t.getProperties(u);if(!n)continue;const f={data:{Name:n.Name.value},children:[{data:{Name:"Identification",Value:((d=l.Identification)==null?void 0:d.value)||((s=l.ItemReference)==null?void 0:s.value)}},{data:{Name:"Name",Value:l.Name.value}}]};o.children||(o.children=[]),o.children.push(f)}}return o},Ee=async(t,i)=>{var l;const o=t.get(P),d=t.get(L),s=[],r=[];for(const u in i){const n=d.list.get(u);if(!(n&&n.group))continue;const f=n.group,p=r.find(g=>g.model===f);if(p)for(const g of i[u])p.expressIDs.add(g);else{const g={model:f,expressIDs:new Set(i[u])};r.push(g)}}for(const u in r){const{model:n,expressIDs:f}=r[u],p=o.relationMaps[n.uuid];if(p)for(const g of f){const e=await n.getProperties(g);if(!e)continue;const a={data:{Name:(l=e.Name)==null?void 0:l.value}};s.push(a);const I=await H(n,g,{includeClass:!0});if(a.children||(a.children=[]),a.children.push(I),!p.get(g))continue;const C=o.getEntityRelations(n,g,"IsDefinedBy");if(C){const m=C.filter(async D=>{const R=await n.getProperties(D);return R?R.type===J:!1}),h=await Ae(n,m);h.children&&a.children.push(h);const y=C.filter(async D=>{const R=await n.getProperties(D);return R?R.type===B:!1}),x=await Se(n,y);x.children&&a.children.push(x)}const b=o.getEntityRelations(n,g,"HasAssociations");if(b){const m=b.filter(async D=>{const R=await n.getProperties(D);return R?R.type===q||R.type===ie||R.type===re||R.type===Q||R.type===Y:!1}),h=await Re(n,m);h.children&&a.children.push(h);const y=b.filter(async D=>{const R=await n.getProperties(D);return R?R.type===K:!1}),x=await De(n,y);x.children&&a.children.push(x)}const c=o.getEntityRelations(n,g,"ContainedInStructure");if(c){const m=c[0],h=await H(n,m,{groupName:"SpatialContainer"});a.children.push(h)}}}return s};let T;const Oe=t=>{const{components:i,fragmentIdMap:o}=t;return T||(T=document.createElement("bim-table"),T.columns=[{name:"Name",width:"12rem"}],T.headersHidden=!0,T.addEventListener("cellcreated",({detail:d})=>{const{cell:s}=d;s.column==="Name"&&!("Value"in s.rowData)&&(s.style.gridColumn="1 / -1")})),Ee(i,o).then(d=>T.data=d),N`${T}`},Te=t=>$.create(Oe,t),Le=Object.freeze(Object.defineProperty({__proto__:null,elementProperties:Te},Symbol.toStringTag,{value:"Module"})),_=async(t,i,o,d)=>{var f;const s=[],r=t.get(P),l=await i.getProperties(o);if(!l)return s;const{type:u}=l,n={data:{Entity:j[u],Name:(f=l.Name)==null?void 0:f.value,modelID:i.uuid}};for(const p of d){const g=r.getEntityRelations(i,o,p);if(n.data.expressID=o,!!g){n.data.relations=JSON.stringify(g);for(const e of g){const a=await _(t,i,e,d);n.children||(n.children=[]),n.children.push(...a)}}}return s.push(n),s},$e=async(t,i,o,d)=>{const s=t.get(P),r=[];for(const l of i){let u;if(d)u={data:{Entity:l.name!==""?l.name:l.uuid},children:await _(t,l,d,o)};else{const n=s.relationMaps[l.uuid],f=await l.getAllPropertiesOfType(ce);if(!(n&&f))continue;const{expressID:p}=Object.values(f)[0];u={data:{Entity:l.name!==""?l.name:l.uuid},children:await _(t,l,p,o)}}r.push(u)}return r};let E;const z=(t,i)=>{const o=t.get(L),{modelID:d,expressID:s,relations:r}=i.data;if(!(d&&s))return null;const l=o.groups.get(d);return l?l.getFragmentMap([s,...JSON.parse(r??"[]")]):null},Ve=t=>{const{components:i,models:o,expressID:d}=t,s=t.selectHighlighterName??"select",r=t.hoverHighlighterName??"hover";E||(E=document.createElement("bim-table"),E.hiddenColumns=["modelID","expressID","relations"],E.columns=["Entity","Name"],E.headersHidden=!0,E.addEventListener("cellcreated",({detail:u})=>{const{cell:n}=u;n.column==="Entity"&&!("Name"in n.rowData)&&(n.style.gridColumn="1 / -1")})),E.addEventListener("rowcreated",u=>{u.stopImmediatePropagation();const{row:n}=u.detail,f=i.get(ae);n.onmouseover=()=>{if(!r)return;const p=z(i,n);p&&Object.keys(p).length!==0&&(n.style.backgroundColor="var(--bim-ui_bg-contrast-20)",f.highlightByID(r,p,!0,!1,f.selection[s]??{}))},n.onmouseout=()=>{n.style.backgroundColor="",f.clear(r)},n.onclick=()=>{if(!s)return;const p=z(i,n);p&&Object.keys(p).length!==0&&f.highlightByID(s,p,!0,!0)}});const l=t.inverseAttributes??["IsDecomposedBy","ContainsElements"];return $e(i,o,l,d).then(u=>E.data=u),N`${E}`},ve=(t,i=!0)=>{const o=$.create(Ve,t);if(i){const[,d]=o,{components:s}=t,r=s.get(L),l=s.get(P),u=()=>d({models:r.groups.values()});l.onRelationsIndexed.add(u),r.onFragmentsDisposed.add(u)}return o},Pe=Object.freeze(Object.defineProperty({__proto__:null,relationsTree:ve},Symbol.toStringTag,{value:"Module"})),v=(t,i)=>[...t.get(fe).list.values()].find(s=>s.world===i),Ge=(t,i)=>N`
    <bim-color-input @input=${d=>{const s=d.target;t.color=new G(s.color)}} color=${i}></bim-color-input>
  `,ke=(t,i)=>{const{postproduction:o}=t,d=o.n8ao.configuration;return N`
    <bim-color-input @input=${r=>{const l=r.target;d.color=new G(l.color)}} color=${i}></bim-color-input>
  `},Me=(t,i)=>{const{color:o,opacity:d}=JSON.parse(i),{postproduction:s}=t,{customEffects:r}=s;return N`
    <bim-color-input @input=${u=>{const{color:n,opacity:f}=u.target;r.lineColor=new G(n).getHex(),f&&(r.opacity=f/100)}} color=${o} opacity=${d*100}></bim-color-input>
  `},We=(t,i)=>N`
    <bim-color-input @input=${d=>{const s=d.target,r=new G(s.color);t.material.uniforms.uColor.value=r}} color=${i}></bim-color-input>
  `,_e=(t,i)=>{const{postproduction:o}=t;return N`
    <bim-checkbox @change=${s=>{const r=s.target;o.setPasses({ao:r.checked})}} .checked=${i}></bim-checkbox>
  `},Fe=(t,i)=>{const{postproduction:o}=t;return N`
    <bim-checkbox @change=${s=>{const r=s.target;o.setPasses({gamma:r.checked})}} .checked=${i}></bim-checkbox>
  `},je=(t,i)=>{const{postproduction:o}=t;return N`
    <bim-checkbox @change=${s=>{const r=s.target;o.setPasses({custom:r.checked})}} .checked=${i}></bim-checkbox>
  `},O=(t,i,o,d=()=>{})=>N`
    <bim-checkbox .checked="${o}" @change="${r=>{const u=r.target.checked;t[i]=u,d(u)}}"></bim-checkbox> 
  `,A=(t,i,o,d)=>{const s={slider:!1,min:0,max:100,step:1,prefix:null,suffix:null,onInputSet:()=>{},...d},{slider:r,min:l,max:u,step:n,suffix:f,prefix:p,onInputSet:g}=s;return N`
    <bim-number-input
      .pref=${p}
      .suffix=${f}
      .slider=${r} 
      min=${l} 
      value="${o}" 
      max=${u} 
      step=${n} 
      @change="${a=>{const w=a.target.value;t[i]=w,g(w)}}"
    ></bim-number-input> 
  `},He=t=>{const{components:i}=t,o=i.get(U);return N`<bim-table ${F(async s=>{var u,n,f,p,g;if(!s)return;const r=s;r.preserveStructureOnFilter=!0,r.dataTransform={Value:(e,a)=>{const I=a.World,w=o.list.get(I);if(!w)return e;const{scene:C,camera:b,renderer:c}=w,m=a.Name;if(m==="Grid"&&a.IsGridConfig&&typeof e=="boolean"){const h=v(i,w);return h?O(h,"visible",e):e}if(m==="Color"&&a.IsGridConfig&&typeof e=="string"){const h=v(i,w);return h?We(h,e):e}if(m==="Distance"&&a.IsGridConfig&&typeof e=="number"){const h=v(i,w);return h?A(h.material.uniforms.uDistance,"value",e,{slider:!0,min:300,max:1e3}):e}if(m==="Size"&&a.IsGridConfig&&typeof e=="string"){const h=v(i,w);if(!h)return e;const{x:y,y:x}=JSON.parse(e),D=A(h.material.uniforms.uSize1,"value",y,{slider:!0,suffix:"m",prefix:"A",min:1,max:20}),R=A(h.material.uniforms.uSize2,"value",x,{slider:!0,suffix:"m",prefix:"B",min:1,max:20});return N`
            <div style="display: flex; gap: 0.25rem; width: 100%; flex-wrap: wrap">${D}${R}</div>
          `}if(m==="Near Frustum"&&b.three instanceof k&&typeof e=="number"){const h=b.three;return A(b.three,"near",e,{slider:!0,min:.1,max:10,step:.1,onInputSet:()=>h.updateProjectionMatrix()})}if(m==="Far Frustum"&&b.three instanceof k&&typeof e=="number"){const h=b.three;return A(b.three,"far",e,{slider:!0,min:300,max:2e3,step:10,onInputSet:()=>h.updateProjectionMatrix()})}if(m==="Field of View"&&b.three instanceof k&&typeof e=="number"){const h=b.three;return A(b.three,"fov",e,{slider:!0,min:10,max:120,onInputSet:()=>h.updateProjectionMatrix()})}if(m==="Invert Drag"&&b.hasCameraControls()&&typeof e=="boolean")return O(b.controls,"dollyDragInverted",e);if(m==="Dolly Speed"&&b.hasCameraControls()&&typeof e=="number")return A(b.controls,"dollySpeed",e,{slider:!0,min:.5,max:3,step:.1});if(m==="Truck Speed"&&b.hasCameraControls()&&typeof e=="number")return A(b.controls,"truckSpeed",e,{slider:!0,min:.5,max:6,step:.1});if(m==="Smooth Time"&&b.hasCameraControls()&&typeof e=="number")return A(b.controls,"smoothTime",e,{slider:!0,min:.01,max:2,step:.01});if(m==="Intensity"&&typeof e=="number"){if(a.Light&&typeof a.Light=="string"){const h=C.three.children.find(y=>y.uuid===a.Light);return h&&h instanceof V?A(h,"intensity",e,{slider:!0,min:0,max:10,step:.1}):e}if(a.IsAOConfig&&c instanceof S)return A(c.postproduction.n8ao.configuration,"intensity",e,{slider:!0,max:16,step:.1})}if(m==="Color"&&typeof e=="string"){const h=a.Light,y=C.three.children.find(x=>x.uuid===h);if(y&&y instanceof V)return Ge(y,e);if(a.IsAOConfig&&c instanceof S)return ke(c,e)}if(m==="Ambient Oclussion"&&typeof e=="boolean"&&a.IsAOConfig&&c instanceof S)return _e(c,e);if(m==="Half Resolution"&&a.IsAOConfig&&c instanceof S&&typeof e=="boolean")return O(c.postproduction.n8ao.configuration,"halfRes",e);if(m==="Screen Space Radius"&&a.IsAOConfig&&c instanceof S&&typeof e=="boolean")return O(c.postproduction.n8ao.configuration,"screenSpaceRadius",e);if(m==="Radius"&&a.IsAOConfig&&c instanceof S&&typeof e=="number")return A(c.postproduction.n8ao.configuration,"aoRadius",e,{slider:!0,max:2,step:.1});if(m==="Denoise Samples"&&a.IsAOConfig&&c instanceof S&&typeof e=="number")return A(c.postproduction.n8ao.configuration,"denoiseSamples",e,{slider:!0,min:1,max:16});if(m==="Samples"&&a.IsAOConfig&&c instanceof S&&typeof e=="number")return A(c.postproduction.n8ao.configuration,"aoSamples",e,{slider:!0,min:1,max:16});if(m==="Denoise Radius"&&a.IsAOConfig&&c instanceof S&&typeof e=="number")return A(c.postproduction.n8ao.configuration,"denoiseRadius",e,{slider:!0,min:0,max:16,step:.1});if(m==="Distance Falloff"&&a.IsAOConfig&&c instanceof S&&typeof e=="number")return A(c.postproduction.n8ao.configuration,"distanceFalloff",e,{slider:!0,min:0,max:4,step:.1});if(m==="Directional Light"&&a.Light&&typeof a.Light=="string"&&typeof e=="boolean"){const h=C.three.children.find(y=>y.uuid===a.Light);return h&&h instanceof V?O(h,"visible",e):e}if(m==="Ambient Light"&&a.Light&&typeof a.Light=="string"&&typeof e=="boolean"){const h=C.three.children.find(y=>y.uuid===a.Light);return h&&h instanceof V?O(h,"visible",e):e}if(m==="Position"&&a.Light&&typeof a.Light=="string"&&typeof e=="string"){const h=C.three.children.find(te=>te.uuid===a.Light);if(!(h&&h instanceof V))return e;const{x:y,y:x,z:D}=JSON.parse(e),R=A(h.position,"x",y,{slider:!0,prefix:"X",suffix:"m",min:-50,max:50}),W=A(h.position,"y",x,{slider:!0,prefix:"Y",suffix:"m",min:-50,max:50}),ee=A(h.position,"z",D,{slider:!0,prefix:"Z",suffix:"m",min:-50,max:50});return N`
            <div style="display: flex; gap: 0.25rem; width: 100%; flex-wrap: wrap">${R}${W}${ee}</div>
          `}return m==="Custom Effects"&&a.IsCEConfig&&c instanceof S&&typeof e=="boolean"?je(c,e):m==="Color"&&a.IsOutlineConfig&&c instanceof S&&typeof e=="string"?Me(c,e):m==="Tolerance"&&a.IsOutlineConfig&&c instanceof S&&typeof e=="number"?A(c.postproduction.customEffects,"tolerance",e,{slider:!0,min:0,max:6,step:.01}):m==="Outline"&&a.IsOutlineConfig&&c instanceof S&&typeof e=="boolean"?O(c.postproduction.customEffects,"outlineEnabled",e):m==="Gloss"&&a.IsGlossConfig&&c instanceof S&&typeof e=="boolean"?O(c.postproduction.customEffects,"glossEnabled",e):m==="Min"&&a.IsGlossConfig&&c instanceof S&&typeof e=="number"?A(c.postproduction.customEffects,"minGloss",e,{slider:!0,min:-.5,max:.5,step:.01}):m==="Max"&&a.IsGlossConfig&&c instanceof S&&typeof e=="number"?A(c.postproduction.customEffects,"maxGloss",e,{slider:!0,min:-.5,max:.5,step:.01}):m==="Exponent"&&a.IsGlossConfig&&c instanceof S&&typeof e=="number"?A(c.postproduction.customEffects,"glossExponent",e,{slider:!0,min:0,max:5,step:.01}):m==="Gamma Correction"&&a.IsGammaConfig&&c instanceof S&&typeof e=="boolean"?Fe(c,e):e}},r.addEventListener("cellcreated",({detail:e})=>{const a=e.cell.parentNode;if(!a)return;const I=a.querySelector("bim-table-cell[column='Name']"),w=a.querySelector("bim-table-cell[column='Value']");I&&!w&&(I.style.gridColumn="1 / -1")});const l=[];for(const[,e]of o.list){const{scene:a,camera:I,renderer:w}=e,C=v(i,e),b={data:{Name:e instanceof le&&e.name||e.uuid},children:[]};if(a){const c={data:{Name:"Scene"}};if(C){const y={data:{Name:"Grid",Value:C.three.visible,World:e.uuid,IsGridConfig:!0},children:[{data:{Name:"Color",get Value(){return`#${C.material.uniforms.uColor.value.getHexString()}`},World:e.uuid,IsGridConfig:!0}},{data:{Name:"Size",get Value(){const x=C.material.uniforms.uSize1.value,D=C.material.uniforms.uSize2.value;return JSON.stringify({x,y:D})},World:e.uuid,IsGridConfig:!0}},{data:{Name:"Distance",Value:C.material.uniforms.uDistance.value,World:e.uuid,IsGridConfig:!0}}]};c.children||(c.children=[]),c.children.push(y)}const m=a.three.children.filter(y=>y instanceof ue);for(const y of m){const x={data:{Name:"Directional Light",Value:y.visible,World:e.uuid,Light:y.uuid},children:[{data:{Name:"Position",Value:JSON.stringify(y.position),World:e.uuid,Light:y.uuid}},{data:{Name:"Intensity",Value:y.intensity,World:e.uuid,Light:y.uuid}},{data:{Name:"Color",Value:`#${y.color.getHexString()}`,World:e.uuid,Light:y.uuid}}]};c.children||(c.children=[]),c.children.push(x)}const h=a.three.children.filter(y=>y instanceof de);for(const y of h){const x={data:{Name:"Ambient Light",Value:y.visible,World:e.uuid,Light:y.uuid},children:[{data:{Name:"Intensity",Value:y.intensity,World:e.uuid,Light:y.uuid}},{data:{Name:"Color",Value:`#${y.color.getHexString()}`,World:e.uuid,Light:y.uuid}}]};c.children||(c.children=[]),c.children.push(x)}c.children&&((u=c.children)==null?void 0:u.length)>0&&((n=b.children)==null||n.push(c))}if(I.three instanceof k){const c={data:{Name:"Perspective Camera"},children:[{data:{Name:"Near Frustum",Value:I.three.near,World:e.uuid}},{data:{Name:"Far Frustum",Value:I.three.far,World:e.uuid}},{data:{Name:"Field of View",Value:I.three.fov,World:e.uuid}}]};if(I.hasCameraControls()){const{controls:m}=I,h={dollyDragInverted:"Invert Drag",dollySpeed:"Dolly Speed",truckSpeed:"Truck Speed",smoothTime:"Smooth Time"};for(const y in h){const x=m[y];x!=null&&((f=c.children)==null||f.push({data:{Name:h[y],Value:x,World:e.uuid}}))}}(p=b.children)==null||p.push(c)}if(w instanceof S){const{postproduction:c}=w,m=c.n8ao.configuration,h={data:{Name:"Renderer"},children:[{data:{Name:"Gamma Correction",Value:c.settings.gamma??!1,World:e.uuid,IsGammaConfig:!0}},{data:{Name:"Ambient Oclussion",Value:c.settings.ao??!1,World:e.uuid,IsAOConfig:!0},children:[{data:{Name:"Samples",Value:m.aoSamples,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Color",Value:`#${m.color.getHexString()}`,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Half Resolution",Value:m.halfRes,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Screen Space Radius",Value:m.screenSpaceRadius,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Radius",Value:m.aoRadius,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Intensity",Value:m.intensity,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Distance Falloff",Value:m.distanceFalloff,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Denoise Samples",Value:m.denoiseSamples,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Denoise Radius",Value:m.denoiseRadius,World:e.uuid,IsAOConfig:!0}}]},{data:{Name:"Custom Effects",Value:c.settings.custom??!1,World:e.uuid,IsCEConfig:!0},children:[{data:{Name:"Gloss",Value:c.customEffects.glossEnabled,World:e.uuid,IsGlossConfig:!0},children:[{data:{Name:"Min",Value:c.customEffects.minGloss,World:e.uuid,IsGlossConfig:!0}},{data:{Name:"Max",Value:c.customEffects.maxGloss,World:e.uuid,IsGlossConfig:!0}},{data:{Name:"Exponent",Value:c.customEffects.glossExponent,World:e.uuid,IsGlossConfig:!0}}]},{data:{Name:"Outline",Value:c.customEffects.outlineEnabled,World:e.uuid,IsOutlineConfig:!0},children:[{data:{Name:"Color",get Value(){const y=new G(c.customEffects.lineColor),x=c.customEffects.opacity;return JSON.stringify({color:`#${y.getHexString()}`,opacity:x})},World:e.uuid,IsOutlineConfig:!0}},{data:{Name:"Tolerance",Value:c.customEffects.tolerance,World:e.uuid,IsOutlineConfig:!0}}]}]}]};(g=b.children)==null||g.push(h)}l.push(b)}r.columns=[{name:"Name",width:"11rem"}],r.hiddenColumns=["World","Light","IsAOConfig","IsCEConfig","IsGlossConfig","IsOutlineConfig","IsGammaConfig","IsGridConfig"],r.data=l})} headers-hidden expanded></bim-table>`},ze=(t,i=!0)=>{const o=$.create(He,t);if(i){const[d]=o,s=()=>o[1](),{components:r}=t,l=r.get(U);l.onDisposed.add(d.remove);for(const[,u]of l.list)u.onDisposed.add(s);d.addEventListener("disconnected",()=>{l.onDisposed.remove(d.remove);for(const[,u]of l.list)u.onDisposed.remove(s)})}return o},Je=Object.freeze(Object.defineProperty({__proto__:null,worldsConfiguration:ze},Symbol.toStringTag,{value:"Module"})),qe={...ge,...be,...xe,...Le,...Pe,...Je};export{qe as t};
