import{b as L,h as A,J as V,l as j,W as G,j as H,A as ne,I as J,q as B,r as q,s as oe,t as ie,v as Q,w as Y,y as K,z as re,S as se,H as ae,C as U,P as M,K as P,x as S,N as ce,Q as le,T as ue,g as k,u as de}from"./index-DDfImu0-.js";const fe=t=>{const{components:o}=t,n=o.get(L),l=document.createElement("bim-table");l.columns=["Model"],l.headersHidden=!0;const s=[];for(const[,i]of n.groups){if(!i)continue;const c={data:{Model:i.name||i.uuid,Actions:i.uuid}};s.push(c)}return l.dataTransform={Actions:i=>{if(typeof i!="string")return i;const c=n.groups.get(i);return c?A`
        <bim-button @click=${u=>{c.visible=!c.visible;const h=u.target;h.icon=c.visible?"mdi:eye":"mdi:eye-off"}} icon="mdi:eye"></bim-button>
        <bim-button @click=${()=>n.disposeGroup(c)} icon="mdi:delete"></bim-button>
      `:i}},l.columns=["Model",{name:"Actions",width:"auto"}],l.data=s,A`
    <div>
      ${s.length===0?A`<bim-label>No models has been loaded yet</bim-label>`:l}
    </div>
  `},me=(t,o=!0)=>{const n=V.create(fe,t);if(o){const{components:l}=t,s=l.get(L),[,i]=n;s.onFragmentsLoaded.add(()=>setTimeout(()=>i())),s.onFragmentsDisposed.add(()=>i())}return n},pe=Object.freeze(Object.defineProperty({__proto__:null,modelsList:me},Symbol.toStringTag,{value:"Module"})),X=["Name","ContainedInStructure","ForLayerSet","LayerThickness","HasProperties","HasAssociations","HasAssignments","HasPropertySets","PredefinedType","Quantities","ReferencedSource","Identification",t=>t.includes("Value"),t=>t.startsWith("Material"),t=>t.startsWith("Relating"),t=>{const o=["IsGroupedBy","IsDecomposedBy"];return t.startsWith("Is")&&!o.includes(t)}];async function W(t,o,n,l=X,s=!1){const i=t.get(G),c=await o.getProperties(n);if(!c)return{data:{Entity:`${n} properties not found...`}};const p=i.relationMaps[o.uuid],r={data:{}};for(const u in c){const h=l.map(e=>typeof e=="string"?u===e:e(u)).includes(!0);if(!(u==="type"||h))continue;const f=c[u];if(f)if(f.type===5){r.children||(r.children=[]);const e=await W(t,o,f.value,l,s);r.children.push(e)}else if(typeof f=="object"&&!Array.isArray(f)){const{value:e,type:a}=f;if(s)a===1||a===2||a===3||(r.data[u]=e);else{const I=typeof e=="number"?Number(e.toFixed(3)):e;r.data[u]=I}}else if(Array.isArray(f))for(const e of f){if(e.type!==5)continue;r.children||(r.children=[]);const a=await W(t,o,e.value,l,s);r.children.push(a)}else if(u==="type"){const e=H[f];r.data.Entity=e}else r.data[u]=f}if(p&&p.get(c.expressID)){const u=p.get(c.expressID);for(const h of l){const f=[];if(typeof h=="string"){const e=i._inverseAttributes.indexOf(h);e!==-1&&f.push(e)}else{const e=i._inverseAttributes.filter(a=>h(a));for(const a of e){const I=i._inverseAttributes.indexOf(a);f.push(I)}}for(const e of f){const a=u.get(e);if(a)for(const I of a){const w=await W(t,o,I,l,s);r.children||(r.children=[]),r.children.push(w)}}}}return r}const ge=t=>{const{components:o,fragmentIdMap:n,attributesToInclude:l,editable:s,tableDefinition:i}=t,c=o.get(L);let p;return typeof l=="function"?p=l(X):p=l,A`<bim-table ${j(async u=>{if(!u)return;const h=u,f=[],e=[];for(const a in n){const I=c.list.get(a);if(!(I&&I.group))continue;const w=I.group,C=e.find(b=>b.model===w);if(C)for(const b of n[a])C.expressIDs.add(b);else{const b={model:w,expressIDs:new Set(n[a])};e.push(b)}}for(const a of e){const{model:I,expressIDs:w}=a;for(const C of w){const b=await W(o,I,C,p,s);f.push(b)}}h.dataTransform=i,h.data=f,h.columns=[{name:"Entity",width:"minmax(15rem, 1fr)"}]})}></bim-table>`},he=t=>V.create(ge,t),ye=Object.freeze(Object.defineProperty({__proto__:null,entityAttributes:he},Symbol.toStringTag,{value:"Module"}));function be(t){const o=Object.keys(t).pop();return o&&t[o].length>0?t[o][0]:""}function Z(t){return t.map(o=>{const n={data:{System:be(o.filter)}};return o.children&&o.children.length>0&&(n.children=Z(o.children)),n})}const Ie=t=>{const{components:o,classifications:n}=t,l=o.get(ne),s=i=>{if(!i)return;const c=i;c.dataTransform={Actions:u=>u};const p=(u,h={})=>{const f=l.list,e=u[0],a=f[e],I=[];if(!e||!a)return I;for(const w in a){const C={...h,[e]:[w]},b=l.find(C);if(Object.keys(b).length>0){const m={filter:C};m.children=p(u.slice(1),C),I.push(m)}}return I},r=[];for(const u in n){const h=n[u],f=p(h),e=Z(f);r.push({data:{System:u},children:e})}c.data=r};return A`
  <div>
    ${Object.keys(n).length===0?A`<bim-label label="No classifications to show"></bim-label>`:A`<bim-table ${j(s)} headers-hidden expanded></bim-table>`}
  </div>
  `},Ce=(t,o=!0)=>{const n=V.create(Ie,t);if(o){const{components:l}=t,s=l.get(L),[,i]=n;s.onFragmentsDisposed.add(()=>i())}return n},we=Object.freeze(Object.defineProperty({__proto__:null,classificationTree:Ce},Symbol.toStringTag,{value:"Module"})),xe=["OwnerHistory","ObjectPlacement","CompositionType"],v=async(t,o,n)=>{const s={...{groupName:"Attributes",includeClass:!1},...n},{groupName:i,includeClass:c}=s,p=await t.getProperties(o)??{},r={data:{Name:i}};c&&(r.children||(r.children=[]),r.children.push({data:{Name:"Class",Value:H[p.type]}}));for(const u in p){if(xe.includes(u))continue;const h=p[u];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.type===re)continue;const f={data:{Name:u,Value:h.value}};r.children||(r.children=[]),r.children.push(f)}}return r},Ne=async(t,o)=>{const n={data:{Name:"Property Sets"}};for(const l of o){const s=await t.getProperties(l);if(!s)continue;const i={data:{Name:s.Name.value}};if(s.type===J){for(const c of s.HasProperties){const{value:p}=c,r=await t.getProperties(p);if(!r)continue;const u=Object.keys(r).find(f=>f.includes("Value"));if(!(u&&r[u]))continue;const h={data:{Name:r.Name.value,Value:r[u].value}};i.children||(i.children=[]),i.children.push(h)}i.children&&(n.children||(n.children=[]),n.children.push(i))}}return n},Ae=async(t,o)=>{const n={data:{Name:"Quantity Sets"}};for(const l of o){const s=await t.getProperties(l);if(!s)continue;const i={data:{Name:s.Name.value}};if(s.type===B){for(const c of s.Quantities){const{value:p}=c,r=await t.getProperties(p);if(!r)continue;const u=Object.keys(r).find(f=>f.includes("Value"));if(!(u&&r[u]))continue;const h={data:{Name:r.Name.value,Value:r[u].value}};i.children||(i.children=[]),i.children.push(h)}i.children&&(n.children||(n.children=[]),n.children.push(i))}}return n},Se=async(t,o)=>{const n={data:{Name:"Materials"}};for(const l of o){const s=await t.getProperties(l);if(s.type===q){const i=s.ForLayerSet.value,c=await t.getProperties(i);for(const p of c.MaterialLayers){const{value:r}=p,u=await t.getProperties(r),h=await t.getProperties(u.Material.value),f={data:{Name:"Layer"},children:[{data:{Name:"Thickness",Value:u.LayerThickness.value}},{data:{Name:"Material",Value:h.Name.value}}]};n.children||(n.children=[]),n.children.push(f)}}if(s.type===Y)for(const i of s.Materials){const{value:c}=i,r={data:{Name:"Name",Value:(await t.getProperties(c)).Name.value}};n.children||(n.children=[]),n.children.push(r)}if(s.type===Q){const c={data:{Name:"Name",Value:(await t.getProperties(l)).Name.value}};n.children||(n.children=[]),n.children.push(c)}}return n},Re=async(t,o)=>{var l,s;const n={data:{Name:"Classifications"}};for(const i of o){const c=await t.getProperties(i);if(c.type===K){const{value:p}=c.ReferencedSource,u={data:{Name:(await t.getProperties(p)).Name.value},children:[{data:{Name:"Identification",Value:((l=c.Identification)==null?void 0:l.value)||((s=c.ItemReference)==null?void 0:s.value)}},{data:{Name:"Name",Value:c.Name.value}}]};n.children||(n.children=[]),n.children.push(u)}}return n},Ee=async(t,o)=>{var c;const n=t.get(G),l=t.get(L),s=[],i=[];for(const p in o){const r=l.list.get(p);if(!(r&&r.group))continue;const u=r.group,h=i.find(f=>f.model===u);if(h)for(const f of o[p])h.expressIDs.add(f);else{const f={model:u,expressIDs:new Set(o[p])};i.push(f)}}for(const p in i){const{model:r,expressIDs:u}=i[p],h=n.relationMaps[r.uuid];if(h)for(const f of u){const e=await r.getProperties(f);if(!e)continue;const a={data:{Name:(c=e.Name)==null?void 0:c.value}};s.push(a);const I=await v(r,f,{includeClass:!0});if(a.children||(a.children=[]),a.children.push(I),!h.get(f))continue;const C=n.getEntityRelations(r,f,"IsDefinedBy");if(C){const m=C.filter(async E=>{const R=await r.getProperties(E);return R?R.type===J:!1}),g=await Ne(r,m);g.children&&a.children.push(g);const y=C.filter(async E=>{const R=await r.getProperties(E);return R?R.type===B:!1}),x=await Ae(r,y);x.children&&a.children.push(x)}const b=n.getEntityRelations(r,f,"HasAssociations");if(b){const m=b.filter(async E=>{const R=await r.getProperties(E);return R?R.type===q||R.type===oe||R.type===ie||R.type===Q||R.type===Y:!1}),g=await Se(r,m);g.children&&a.children.push(g);const y=b.filter(async E=>{const R=await r.getProperties(E);return R?R.type===K:!1}),x=await Re(r,y);x.children&&a.children.push(x)}const d=n.getEntityRelations(r,f,"ContainedInStructure");if(d){const m=d[0],g=await v(r,m,{groupName:"SpatialContainer"});a.children.push(g)}}}return s};let T;const Oe=t=>{const{components:o,fragmentIdMap:n}=t;return T||(T=document.createElement("bim-table"),T.columns=[{name:"Name",width:"12rem"}],T.headersHidden=!0,T.addEventListener("cellcreated",({detail:l})=>{const{cell:s}=l;s.column==="Name"&&!("Value"in s.rowData)&&(s.style.gridColumn="1 / -1")})),Ee(o,n).then(l=>T.data=l),A`${T}`},De=t=>V.create(Oe,t),Te=Object.freeze(Object.defineProperty({__proto__:null,elementProperties:De},Symbol.toStringTag,{value:"Module"})),_=async(t,o,n,l)=>{var u;const s=[],i=t.get(G),c=await o.getProperties(n);if(!c)return s;const{type:p}=c,r={data:{Entity:H[p],Name:(u=c.Name)==null?void 0:u.value,modelID:o.uuid}};for(const h of l){const f=i.getEntityRelations(o,n,h);if(r.data.expressID=n,!!f){r.data.relations=JSON.stringify(f);for(const e of f){const a=await _(t,o,e,l);r.children||(r.children=[]),r.children.push(...a)}}}return s.push(r),s},Le=async(t,o,n,l)=>{const s=t.get(G),i=[];for(const c of o){let p;if(l)p={data:{Entity:c.name!==""?c.name:c.uuid},children:await _(t,c,l,n)};else{const r=s.relationMaps[c.uuid],u=await c.getAllPropertiesOfType(ae);if(!(r&&u))continue;const{expressID:h}=Object.values(u)[0];p={data:{Entity:c.name!==""?c.name:c.uuid},children:await _(t,c,h,n)}}i.push(p)}return i};let O;const z=(t,o)=>{const n=t.get(L),{modelID:l,expressID:s,relations:i}=o.data;if(!(l&&s))return null;const c=n.groups.get(l);return c?c.getFragmentMap([s,...JSON.parse(i??"[]")]):null},Ve=t=>{const{components:o,models:n,inverseAttributes:l,selectHighlighterName:s,hoverHighlighterName:i,expressID:c}=t;return O||(O=document.createElement("bim-table"),O.hiddenColumns=["modelID","expressID","relations"],O.columns=["Entity","Name"],O.headersHidden=!0,O.addEventListener("cellcreated",({detail:r})=>{const{cell:u}=r;u.column==="Entity"&&!("Name"in u.rowData)&&(u.style.gridColumn="1 / -1")})),O.addEventListener("rowcreated",r=>{r.stopImmediatePropagation();const{row:u}=r.detail,h=o.get(se);u.onmouseover=()=>{if(!i)return;const f=z(o,u);f&&Object.keys(f).length!==0&&(u.style.backgroundColor="var(--bim-ui_bg-contrast-20)",h.highlightByID(i,f,!0,!1))},u.onmouseout=()=>{u.style.backgroundColor="",h.clear(i)},u.onclick=()=>{if(!s)return;const f=z(o,u);f&&Object.keys(f).length!==0&&h.highlightByID(s,f,!0,!0)}}),Le(o,n,l??["IsDecomposedBy","ContainsElements"],c).then(r=>O.data=r),A`${O}`},Pe=(t,o=!0)=>{const n=V.create(Ve,t);if(o){const[,l]=n,{components:s}=t,i=s.get(L),c=s.get(G),p=()=>l({models:i.groups.values()});c.onRelationsIndexed.add(p),i.onFragmentsDisposed.add(p)}return n},$e=Object.freeze(Object.defineProperty({__proto__:null,relationsTree:Pe},Symbol.toStringTag,{value:"Module"})),$=(t,o)=>[...t.get(de).list.values()].find(s=>s.world===o),Ge=(t,o)=>A`
    <bim-color-input @input=${l=>{const s=l.target;t.color=new k(s.color)}} color=${o}></bim-color-input>
  `,ke=(t,o)=>{const{postproduction:n}=t,l=n.n8ao.configuration;return A`
    <bim-color-input @input=${i=>{const c=i.target;l.color=new k(c.color)}} color=${o}></bim-color-input>
  `},Me=(t,o)=>{const{color:n,opacity:l}=JSON.parse(o),{postproduction:s}=t,{customEffects:i}=s;return A`
    <bim-color-input @input=${p=>{const{color:r,opacity:u}=p.target;i.lineColor=new k(r).getHex(),u&&(i.opacity=u/100)}} color=${n} opacity=${l*100}></bim-color-input>
  `},We=(t,o)=>A`
    <bim-color-input @input=${l=>{const s=l.target,i=new k(s.color);t.material.uniforms.uColor.value=i}} color=${o}></bim-color-input>
  `,Fe=(t,o)=>{const{postproduction:n}=t;return A`
    <bim-checkbox @change=${s=>{const i=s.target;n.setPasses({ao:i.checked})}} .checked=${o}></bim-checkbox>
  `},_e=(t,o)=>{const{postproduction:n}=t;return A`
    <bim-checkbox @change=${s=>{const i=s.target;n.setPasses({gamma:i.checked})}} .checked=${o}></bim-checkbox>
  `},je=(t,o)=>{const{postproduction:n}=t;return A`
    <bim-checkbox @change=${s=>{const i=s.target;n.setPasses({custom:i.checked})}} .checked=${o}></bim-checkbox>
  `},D=(t,o,n,l=()=>{})=>A`
    <bim-checkbox .checked="${n}" @change="${i=>{const p=i.target.checked;t[o]=p,l(p)}}"></bim-checkbox> 
  `,N=(t,o,n,l)=>{const s={slider:!1,min:0,max:100,step:1,prefix:null,suffix:null,onInputSet:()=>{},...l},{slider:i,min:c,max:p,step:r,suffix:u,prefix:h,onInputSet:f}=s;return A`
    <bim-number-input
      .pref=${h}
      .suffix=${u}
      .slider=${i} 
      min=${c} 
      value="${n}" 
      max=${p} 
      step=${r} 
      @change="${a=>{const w=a.target.value;t[o]=w,f(w)}}"
    ></bim-number-input> 
  `},He=t=>{const{components:o}=t,n=o.get(U);return A`<bim-table ${j(async s=>{var p,r,u,h,f;if(!s)return;const i=s;i.preserveStructureOnFilter=!0,i.dataTransform={Value:(e,a)=>{const I=a.World,w=n.list.get(I);if(!w)return e;const{scene:C,camera:b,renderer:d}=w,m=a.Name;if(m==="Grid"&&a.IsGridConfig&&typeof e=="boolean"){const g=$(o,w);return g?D(g,"visible",e):e}if(m==="Color"&&a.IsGridConfig&&typeof e=="string"){const g=$(o,w);return g?We(g,e):e}if(m==="Distance"&&a.IsGridConfig&&typeof e=="number"){const g=$(o,w);return g?N(g.material.uniforms.uDistance,"value",e,{slider:!0,min:300,max:1e3}):e}if(m==="Size"&&a.IsGridConfig&&typeof e=="string"){const g=$(o,w);if(!g)return e;const{x:y,y:x}=JSON.parse(e),E=N(g.material.uniforms.uSize1,"value",y,{slider:!0,suffix:"m",prefix:"A",min:1,max:20}),R=N(g.material.uniforms.uSize2,"value",x,{slider:!0,suffix:"m",prefix:"B",min:1,max:20});return A`
            <div style="display: flex; gap: 0.25rem; width: 100%; flex-wrap: wrap">${E}${R}</div>
          `}if(m==="Near Frustum"&&b.three instanceof M&&typeof e=="number"){const g=b.three;return N(b.three,"near",e,{slider:!0,min:.1,max:10,step:.1,onInputSet:()=>g.updateProjectionMatrix()})}if(m==="Far Frustum"&&b.three instanceof M&&typeof e=="number"){const g=b.three;return N(b.three,"far",e,{slider:!0,min:300,max:2e3,step:10,onInputSet:()=>g.updateProjectionMatrix()})}if(m==="Field of View"&&b.three instanceof M&&typeof e=="number"){const g=b.three;return N(b.three,"fov",e,{slider:!0,min:10,max:120,onInputSet:()=>g.updateProjectionMatrix()})}if(m==="Invert Drag"&&b.hasCameraControls()&&typeof e=="boolean")return D(b.controls,"dollyDragInverted",e);if(m==="Dolly Speed"&&b.hasCameraControls()&&typeof e=="number")return N(b.controls,"dollySpeed",e,{slider:!0,min:.5,max:3,step:.1});if(m==="Truck Speed"&&b.hasCameraControls()&&typeof e=="number")return N(b.controls,"truckSpeed",e,{slider:!0,min:.5,max:6,step:.1});if(m==="Smooth Time"&&b.hasCameraControls()&&typeof e=="number")return N(b.controls,"smoothTime",e,{slider:!0,min:.01,max:2,step:.01});if(m==="Intensity"&&typeof e=="number"){if(a.Light&&typeof a.Light=="string"){const g=C.three.children.find(y=>y.uuid===a.Light);return g&&g instanceof P?N(g,"intensity",e,{slider:!0,min:0,max:10,step:.1}):e}if(a.IsAOConfig&&d instanceof S)return N(d.postproduction.n8ao.configuration,"intensity",e,{slider:!0,max:16,step:.1})}if(m==="Color"&&typeof e=="string"){const g=a.Light,y=C.three.children.find(x=>x.uuid===g);if(y&&y instanceof P)return Ge(y,e);if(a.IsAOConfig&&d instanceof S)return ke(d,e)}if(m==="Ambient Oclussion"&&typeof e=="boolean"&&a.IsAOConfig&&d instanceof S)return Fe(d,e);if(m==="Half Resolution"&&a.IsAOConfig&&d instanceof S&&typeof e=="boolean")return D(d.postproduction.n8ao.configuration,"halfRes",e);if(m==="Screen Space Radius"&&a.IsAOConfig&&d instanceof S&&typeof e=="boolean")return D(d.postproduction.n8ao.configuration,"screenSpaceRadius",e);if(m==="Radius"&&a.IsAOConfig&&d instanceof S&&typeof e=="number")return N(d.postproduction.n8ao.configuration,"aoRadius",e,{slider:!0,max:2,step:.1});if(m==="Denoise Samples"&&a.IsAOConfig&&d instanceof S&&typeof e=="number")return N(d.postproduction.n8ao.configuration,"denoiseSamples",e,{slider:!0,min:1,max:16});if(m==="Samples"&&a.IsAOConfig&&d instanceof S&&typeof e=="number")return N(d.postproduction.n8ao.configuration,"aoSamples",e,{slider:!0,min:1,max:16});if(m==="Denoise Radius"&&a.IsAOConfig&&d instanceof S&&typeof e=="number")return N(d.postproduction.n8ao.configuration,"denoiseRadius",e,{slider:!0,min:0,max:16,step:.1});if(m==="Distance Falloff"&&a.IsAOConfig&&d instanceof S&&typeof e=="number")return N(d.postproduction.n8ao.configuration,"distanceFalloff",e,{slider:!0,min:0,max:4,step:.1});if(m==="Directional Light"&&a.Light&&typeof a.Light=="string"&&typeof e=="boolean"){const g=C.three.children.find(y=>y.uuid===a.Light);return g&&g instanceof P?D(g,"visible",e):e}if(m==="Ambient Light"&&a.Light&&typeof a.Light=="string"&&typeof e=="boolean"){const g=C.three.children.find(y=>y.uuid===a.Light);return g&&g instanceof P?D(g,"visible",e):e}if(m==="Position"&&a.Light&&typeof a.Light=="string"&&typeof e=="string"){const g=C.three.children.find(te=>te.uuid===a.Light);if(!(g&&g instanceof P))return e;const{x:y,y:x,z:E}=JSON.parse(e),R=N(g.position,"x",y,{slider:!0,prefix:"X",suffix:"m",min:-50,max:50}),F=N(g.position,"y",x,{slider:!0,prefix:"Y",suffix:"m",min:-50,max:50}),ee=N(g.position,"z",E,{slider:!0,prefix:"Z",suffix:"m",min:-50,max:50});return A`
            <div style="display: flex; gap: 0.25rem; width: 100%; flex-wrap: wrap">${R}${F}${ee}</div>
          `}return m==="Custom Effects"&&a.IsCEConfig&&d instanceof S&&typeof e=="boolean"?je(d,e):m==="Color"&&a.IsOutlineConfig&&d instanceof S&&typeof e=="string"?Me(d,e):m==="Tolerance"&&a.IsOutlineConfig&&d instanceof S&&typeof e=="number"?N(d.postproduction.customEffects,"tolerance",e,{slider:!0,min:0,max:6,step:.01}):m==="Outline"&&a.IsOutlineConfig&&d instanceof S&&typeof e=="boolean"?D(d.postproduction.customEffects,"outlineEnabled",e):m==="Gloss"&&a.IsGlossConfig&&d instanceof S&&typeof e=="boolean"?D(d.postproduction.customEffects,"glossEnabled",e):m==="Min"&&a.IsGlossConfig&&d instanceof S&&typeof e=="number"?N(d.postproduction.customEffects,"minGloss",e,{slider:!0,min:-.5,max:.5,step:.01}):m==="Max"&&a.IsGlossConfig&&d instanceof S&&typeof e=="number"?N(d.postproduction.customEffects,"maxGloss",e,{slider:!0,min:-.5,max:.5,step:.01}):m==="Exponent"&&a.IsGlossConfig&&d instanceof S&&typeof e=="number"?N(d.postproduction.customEffects,"glossExponent",e,{slider:!0,min:0,max:5,step:.01}):m==="Gamma Correction"&&a.IsGammaConfig&&d instanceof S&&typeof e=="boolean"?_e(d,e):e}},i.addEventListener("cellcreated",({detail:e})=>{const a=e.cell.parentNode;if(!a)return;const I=a.querySelector("bim-table-cell[column='Name']"),w=a.querySelector("bim-table-cell[column='Value']");I&&!w&&(I.style.gridColumn="1 / -1")});const c=[];for(const[,e]of n.list){const{scene:a,camera:I,renderer:w}=e,C=$(o,e),b={data:{Name:e instanceof ce&&e.name||e.uuid},children:[]};if(a){const d={data:{Name:"Scene"}};if(C){const y={data:{Name:"Grid",Value:C.three.visible,World:e.uuid,IsGridConfig:!0},children:[{data:{Name:"Color",get Value(){return`#${C.material.uniforms.uColor.value.getHexString()}`},World:e.uuid,IsGridConfig:!0}},{data:{Name:"Size",get Value(){const x=C.material.uniforms.uSize1.value,E=C.material.uniforms.uSize2.value;return JSON.stringify({x,y:E})},World:e.uuid,IsGridConfig:!0}},{data:{Name:"Distance",Value:C.material.uniforms.uDistance.value,World:e.uuid,IsGridConfig:!0}}]};d.children||(d.children=[]),d.children.push(y)}const m=a.three.children.filter(y=>y instanceof le);for(const y of m){const x={data:{Name:"Directional Light",Value:y.visible,World:e.uuid,Light:y.uuid},children:[{data:{Name:"Position",Value:JSON.stringify(y.position),World:e.uuid,Light:y.uuid}},{data:{Name:"Intensity",Value:y.intensity,World:e.uuid,Light:y.uuid}},{data:{Name:"Color",Value:`#${y.color.getHexString()}`,World:e.uuid,Light:y.uuid}}]};d.children||(d.children=[]),d.children.push(x)}const g=a.three.children.filter(y=>y instanceof ue);for(const y of g){const x={data:{Name:"Ambient Light",Value:y.visible,World:e.uuid,Light:y.uuid},children:[{data:{Name:"Intensity",Value:y.intensity,World:e.uuid,Light:y.uuid}},{data:{Name:"Color",Value:`#${y.color.getHexString()}`,World:e.uuid,Light:y.uuid}}]};d.children||(d.children=[]),d.children.push(x)}d.children&&((p=d.children)==null?void 0:p.length)>0&&((r=b.children)==null||r.push(d))}if(I.three instanceof M){const d={data:{Name:"Perspective Camera"},children:[{data:{Name:"Near Frustum",Value:I.three.near,World:e.uuid}},{data:{Name:"Far Frustum",Value:I.three.far,World:e.uuid}},{data:{Name:"Field of View",Value:I.three.fov,World:e.uuid}}]};if(I.hasCameraControls()){const{controls:m}=I,g={dollyDragInverted:"Invert Drag",dollySpeed:"Dolly Speed",truckSpeed:"Truck Speed",smoothTime:"Smooth Time"};for(const y in g){const x=m[y];x!=null&&((u=d.children)==null||u.push({data:{Name:g[y],Value:x,World:e.uuid}}))}}(h=b.children)==null||h.push(d)}if(w instanceof S){const{postproduction:d}=w,m=d.n8ao.configuration,g={data:{Name:"Renderer"},children:[{data:{Name:"Gamma Correction",Value:d.settings.gamma??!1,World:e.uuid,IsGammaConfig:!0}},{data:{Name:"Ambient Oclussion",Value:d.settings.ao??!1,World:e.uuid,IsAOConfig:!0},children:[{data:{Name:"Samples",Value:m.aoSamples,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Color",Value:`#${m.color.getHexString()}`,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Half Resolution",Value:m.halfRes,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Screen Space Radius",Value:m.screenSpaceRadius,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Radius",Value:m.aoRadius,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Intensity",Value:m.intensity,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Distance Falloff",Value:m.distanceFalloff,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Denoise Samples",Value:m.denoiseSamples,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Denoise Radius",Value:m.denoiseRadius,World:e.uuid,IsAOConfig:!0}}]},{data:{Name:"Custom Effects",Value:d.settings.custom??!1,World:e.uuid,IsCEConfig:!0},children:[{data:{Name:"Gloss",Value:d.customEffects.glossEnabled,World:e.uuid,IsGlossConfig:!0},children:[{data:{Name:"Min",Value:d.customEffects.minGloss,World:e.uuid,IsGlossConfig:!0}},{data:{Name:"Max",Value:d.customEffects.maxGloss,World:e.uuid,IsGlossConfig:!0}},{data:{Name:"Exponent",Value:d.customEffects.glossExponent,World:e.uuid,IsGlossConfig:!0}}]},{data:{Name:"Outline",Value:d.customEffects.outlineEnabled,World:e.uuid,IsOutlineConfig:!0},children:[{data:{Name:"Color",get Value(){const y=new k(d.customEffects.lineColor),x=d.customEffects.opacity;return JSON.stringify({color:`#${y.getHexString()}`,opacity:x})},World:e.uuid,IsOutlineConfig:!0}},{data:{Name:"Tolerance",Value:d.customEffects.tolerance,World:e.uuid,IsOutlineConfig:!0}}]}]}]};(f=b.children)==null||f.push(g)}c.push(b)}i.columns=[{name:"Name",width:"11rem"}],i.hiddenColumns=["World","Light","IsAOConfig","IsCEConfig","IsGlossConfig","IsOutlineConfig","IsGammaConfig","IsGridConfig"],i.data=c})} headers-hidden expanded></bim-table>`},ve=(t,o=!0)=>{const n=V.create(He,t);if(o){const[l]=n,s=()=>n[1](),{components:i}=t,c=i.get(U);c.onDisposed.add(l.remove);for(const[,p]of c.list)p.onDisposed.add(s);l.addEventListener("disconnected",()=>{c.onDisposed.remove(l.remove);for(const[,p]of c.list)p.onDisposed.remove(s)})}return n},ze=Object.freeze(Object.defineProperty({__proto__:null,worldsConfiguration:ve},Symbol.toStringTag,{value:"Module"})),Be={...pe,...ye,...we,...Te,...$e,...ze};export{Be as t};
