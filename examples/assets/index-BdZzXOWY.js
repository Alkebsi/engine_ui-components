import{b as V,j as A,h as P,q as k,W,l as H,A as ne,I as J,r as B,s as Q,v as oe,w as ie,y as Y,z as K,D as U,H as re,J as se,S as ae,C as X,P as _,K as G,x as S,N as ce,Q as le,T as ue,g as F,u as de}from"./index-iHSjA6qM.js";const fe=n=>{const{components:i}=n,o=i.get(V),a=document.createElement("bim-table");a.columns=["Model"],a.headersHidden=!0;const s=[];for(const[,r]of o.groups){if(!r)continue;const l={data:{Model:r.name||r.uuid,Actions:r.uuid}};s.push(l)}return a.dataTransform={Actions:r=>{if(typeof r!="string")return r;const l=o.groups.get(r);return l?A`
        <bim-button @click=${d=>{l.visible=!l.visible;const I=d.target;I.icon=l.visible?"mdi:eye":"mdi:eye-off"}} icon="mdi:eye"></bim-button>
        <bim-button @click=${()=>o.disposeGroup(l)} icon="mdi:delete"></bim-button>
      `:r}},a.columns=["Model",{name:"Actions",width:"auto"}],a.data=s,A`
    <div>
      ${s.length===0?A`<bim-label>No models has been loaded yet</bim-label>`:a}
    </div>
  `},me=(n,i=!0)=>{const o=P.create(fe,n);if(i){const{components:a}=n,s=a.get(V),[,r]=o;s.onFragmentsLoaded.add(()=>setTimeout(()=>r())),s.onFragmentsDisposed.add(()=>r())}return o},pe=Object.freeze(Object.defineProperty({__proto__:null,modelsList:me},Symbol.toStringTag,{value:"Module"})),Z=["Name","ContainedInStructure","ForLayerSet","LayerThickness","HasProperties","HasAssociations","HasAssignments","HasPropertySets","PredefinedType","Quantities","ReferencedSource","Identification",n=>n.includes("Value"),n=>n.startsWith("Material"),n=>n.startsWith("Relating"),n=>{const i=["IsGroupedBy","IsDecomposedBy"];return n.startsWith("Is")&&!i.includes(n)}];async function j(n,i,o,a=Z,s=!1){const r=n.get(W),l=await i.getProperties(o);if(!l)return{data:{Entity:`${o} properties not found...`}};const p=r.relationMaps[i.uuid],u={data:{}};for(const d in l){const I=a.map(e=>typeof e=="string"?d===e:e(d)).includes(!0);if(!(d==="type"||I))continue;const g=l[d];if(g)if(g.type===5){u.children||(u.children=[]);const e=await j(n,i,g.value,a,s);u.children.push(e)}else if(typeof g=="object"&&!Array.isArray(g)){const{value:e,type:t}=g;if(s)t===1||t===2||t===3||(u.data[d]=e);else{const f=typeof e=="number"?Number(e.toFixed(3)):e;u.data[d]=f}}else if(Array.isArray(g))for(const e of g){if(e.type!==5)continue;u.children||(u.children=[]);const t=await j(n,i,e.value,a,s);u.children.push(t)}else if(d==="type"){const e=H[g];u.data.Entity=e}else u.data[d]=g}if(p&&p.get(l.expressID)){const d=p.get(l.expressID);for(const I of a){const g=[];if(typeof I=="string"){const e=r._inverseAttributes.indexOf(I);e!==-1&&g.push(e)}else{const e=r._inverseAttributes.filter(t=>I(t));for(const t of e){const f=r._inverseAttributes.indexOf(t);g.push(f)}}for(const e of g){const t=d.get(e);if(t)for(const f of t){const y=await j(n,i,f,a,s);u.children||(u.children=[]),u.children.push(y)}}}}return u}const ge=n=>{const{components:i,fragmentIdMap:o,attributesToInclude:a,editable:s,tableDefinition:r}=n,l=i.get(V);let p;return typeof a=="function"?p=a(Z):p=a,A`<bim-table ${k(async d=>{if(!d)return;const I=d,g=[],e=[];for(const t in o){const f=l.list.get(t);if(!(f&&f.group))continue;const y=f.group,w=e.find(b=>b.model===y);if(w)for(const b of o[t])w.expressIDs.add(b);else{const b={model:y,expressIDs:new Set(o[t])};e.push(b)}}for(const t of e){const{model:f,expressIDs:y}=t;for(const w of y){const b=await j(i,f,w,p,s);g.push(b)}}I.dataTransform=r,I.data=g,I.columns=[{name:"Entity",width:"minmax(15rem, 1fr)"}]})}></bim-table>`},he=n=>P.create(ge,n),ye=Object.freeze(Object.defineProperty({__proto__:null,entityAttributes:he},Symbol.toStringTag,{value:"Module"}));function be(n){const i=Object.keys(n).pop();return i&&n[i].length>0?n[i][0]:""}function ee(n){return n.map(i=>{const o={data:{System:be(i.filter)}};return i.children&&i.children.length>0&&(o.children=ee(i.children)),o})}const Ce=n=>{const{components:i,classifications:o}=n,a=i.get(ne),s=r=>{if(!r)return;const l=r;l.dataTransform={Actions:d=>d};const p=(d,I={})=>{const g=a.list,e=d[0],t=g[e],f=[];if(!e||!t)return f;for(const y in t){const w={...I,[e]:[y]},b=a.find(w);if(Object.keys(b).length>0){const m={filter:w};m.children=p(d.slice(1),w),f.push(m)}}return f},u=[];for(const d in o){const I=o[d],g=p(I),e=ee(g);u.push({data:{System:d},children:e})}l.data=u};return A`
  <div>
    ${Object.keys(o).length===0?A`<bim-label label="No classifications to show"></bim-label>`:A`<bim-table ${k(s)} headers-hidden expanded></bim-table>`}
  </div>
  `},Ie=(n,i=!0)=>{const o=P.create(Ce,n);if(i){const{components:a}=n,s=a.get(V),[,r]=o;s.onFragmentsDisposed.add(()=>r())}return o},we=Object.freeze(Object.defineProperty({__proto__:null,classificationTree:Ie},Symbol.toStringTag,{value:"Module"})),xe=["OwnerHistory","ObjectPlacement","CompositionType"],z=async(n,i,o)=>{const s={...{groupName:"Attributes",includeClass:!1},...o},{groupName:r,includeClass:l}=s,p=await n.getProperties(i)??{},u={data:{Name:r}};l&&(u.children||(u.children=[]),u.children.push({data:{Name:"Class",Value:H[p.type]}}));for(const d in p){if(xe.includes(d))continue;const I=p[d];if(I&&typeof I=="object"&&!Array.isArray(I)){if(I.type===re)continue;const g={data:{Name:d,Value:I.value}};u.children||(u.children=[]),u.children.push(g)}}return u},Ne=async(n,i)=>{const o={data:{Name:"Property Sets"}};for(const a of i){const s=await n.getProperties(a);if(!s)continue;const r={data:{Name:s.Name.value}};if(s.type===J){for(const l of s.HasProperties){const{value:p}=l,u=await n.getProperties(p);if(!u)continue;const d=Object.keys(u).find(g=>g.includes("Value"));if(!(d&&u[d]))continue;const I={data:{Name:u.Name.value,Value:u[d].value}};r.children||(r.children=[]),r.children.push(I)}r.children&&(o.children||(o.children=[]),o.children.push(r))}}return o},Ae=async(n,i)=>{const o={data:{Name:"Quantity Sets"}};for(const a of i){const s=await n.getProperties(a);if(!s)continue;const r={data:{Name:s.Name.value}};if(s.type===B){for(const l of s.Quantities){const{value:p}=l,u=await n.getProperties(p);if(!u)continue;const d=Object.keys(u).find(g=>g.includes("Value"));if(!(d&&u[d]))continue;const I={data:{Name:u.Name.value,Value:u[d].value}};r.children||(r.children=[]),r.children.push(I)}r.children&&(o.children||(o.children=[]),o.children.push(r))}}return o},Se=async(n,i)=>{const o={data:{Name:"Materials"}};for(const a of i){const s=await n.getProperties(a);if(s.type===Q){const r=s.ForLayerSet.value,l=await n.getProperties(r);for(const p of l.MaterialLayers){const{value:u}=p,d=await n.getProperties(u),I=await n.getProperties(d.Material.value),g={data:{Name:"Layer"},children:[{data:{Name:"Thickness",Value:d.LayerThickness.value}},{data:{Name:"Material",Value:I.Name.value}}]};o.children||(o.children=[]),o.children.push(g)}}if(s.type===K)for(const r of s.Materials){const{value:l}=r,u={data:{Name:"Name",Value:(await n.getProperties(l)).Name.value}};o.children||(o.children=[]),o.children.push(u)}if(s.type===Y){const l={data:{Name:"Name",Value:(await n.getProperties(a)).Name.value}};o.children||(o.children=[]),o.children.push(l)}}return o},Re=async(n,i)=>{var a,s;const o={data:{Name:"Classifications"}};for(const r of i){const l=await n.getProperties(r);if(l.type===U){const{value:p}=l.ReferencedSource,d={data:{Name:(await n.getProperties(p)).Name.value},children:[{data:{Name:"Identification",Value:((a=l.Identification)==null?void 0:a.value)||((s=l.ItemReference)==null?void 0:s.value)}},{data:{Name:"Name",Value:l.Name.value}}]};o.children||(o.children=[]),o.children.push(d)}}return o},Ee=n=>{const{components:i,fragmentIdMap:o}=n,a=i.get(W),s=i.get(V);return A`<bim-table ${k(async l=>{var I;if(!l)return;const p=[],u=[];for(const g in o){const e=s.list.get(g);if(!(e&&e.group))continue;const t=e.group,f=u.find(y=>y.model===t);if(f)for(const y of o[g])f.expressIDs.add(y);else{const y={model:t,expressIDs:new Set(o[g])};u.push(y)}}for(const g in u){const{model:e,expressIDs:t}=u[g],f=a.relationMaps[e.uuid];if(!f)return;for(const y of t){const w=await e.getProperties(y);if(!w)continue;const b={data:{Name:(I=w.Name)==null?void 0:I.value}};p.push(b);const c=await z(e,y,{includeClass:!0});if(b.children||(b.children=[]),b.children.push(c),!f.get(y))continue;const h=a.getEntityRelations(e,y,"IsDefinedBy");if(h){const E=h.filter(async D=>{const R=await e.getProperties(D);return R?R.type===J:!1}),O=await Ne(e,E);O.children&&b.children.push(O);const $=h.filter(async D=>{const R=await e.getProperties(D);return R?R.type===B:!1}),L=await Ae(e,$);L.children&&b.children.push(L)}const C=a.getEntityRelations(e,y,"HasAssociations");if(C){const E=C.filter(async D=>{const R=await e.getProperties(D);return R?R.type===Q||R.type===oe||R.type===ie||R.type===Y||R.type===K:!1}),O=await Se(e,E);O.children&&b.children.push(O);const $=C.filter(async D=>{const R=await e.getProperties(D);return R?R.type===U:!1}),L=await Re(e,$);L.children&&b.children.push(L)}const N=a.getEntityRelations(e,y,"ContainedInStructure");if(N){const E=N[0],O=await z(e,E,{groupName:"SpatialContainer"});b.children.push(O)}}}const d=l;d.addEventListener("cellcreated",({detail:g})=>{const e=g.cell.parentNode;if(!e)return;const t=e.querySelector("bim-table-cell[column='Name']"),f=e.querySelector("bim-table-cell[column='Value']");t&&!f&&(t.style.gridColumn="1 / -1")}),d.columns=[{name:"Name",width:"12rem"}],d.data=p})} headers-hidden></bim-table>`},Oe=n=>P.create(Ee,n),De=Object.freeze(Object.defineProperty({__proto__:null,elementProperties:Oe},Symbol.toStringTag,{value:"Module"})),v=async(n,i,o,a)=>{var d;const s=[],r=n.get(W),l=await i.getProperties(o);if(!l)return s;const{type:p}=l,u={data:{Entity:H[p],Name:(d=l.Name)==null?void 0:d.value,modelID:i.uuid}};for(const I of a){const g=r.getEntityRelations(i,o,I);if(u.data.expressID=o,!!g){u.data.relations=JSON.stringify(g);for(const e of g){const t=await v(n,i,e,a);u.children||(u.children=[]),u.children.push(...t)}}}return s.push(u),s},q=(n,i)=>{const o=n.get(V),{modelID:a,expressID:s,relations:r}=i.data;if(!(a&&s))return null;const l=o.groups.get(a);return l?l.getFragmentMap([s,...JSON.parse(r??"[]")]):null},Te=n=>{const{components:i,models:o,inverseAttributes:a,expressID:s,selectHighlighterName:r,hoverHighlighterName:l}=n,p=a??["IsDecomposedBy","ContainsElements"];return A`<bim-table ${k(async d=>{if(!d)return;const I=i.get(W),g=[];for(const t of o){let f;if(s)f={data:{Entity:t.name!==""?t.name:t.uuid},children:await v(i,t,s,p)};else{const y=I.relationMaps[t.uuid],w=await t.getAllPropertiesOfType(se);if(!(y&&w))continue;const{expressID:b}=Object.values(w)[0];f={data:{Entity:t.name!==""?t.name:t.uuid},children:await v(i,t,b,p)}}g.push(f)}const e=d;e.addEventListener("rowcreated",({detail:t})=>{const{row:f}=t,y=i.get(ae);f.onmouseover=()=>{if(!l)return;const w=q(i,f);w&&Object.keys(w).length!==0&&(f.style.backgroundColor="var(--bim-ui_bg-contrast-20)",y.highlightByID(l,w,!0,!1))},f.onmouseout=()=>{f.style.backgroundColor="",y.clear(l)},f.onclick=()=>{if(!r)return;const w=q(i,f);w&&Object.keys(w).length!==0&&y.highlightByID(r,w,!0,!0)}}),e.addEventListener("cellcreated",({detail:t})=>{const f=t.cell.parentNode;if(!f)return;const y=f.querySelector("bim-table-cell[column='Entity']"),w=f.querySelector("bim-table-cell[column='Name']");y&&!w&&(y.style.gridColumn="1 / -1")}),e.hiddenColumns=["modelID","expressID","relations"],e.columns=["Entity","Name"],e.data=g})} headers-hidden></bim-table>`},Le=(n,i=!0)=>{const o=P.create(Te,n);if(i){const[,a]=o,{components:s}=n,r=s.get(V),l=s.get(W),p=()=>a({models:r.groups.values()});l.onRelationsIndexed.add(p),r.onFragmentsDisposed.add(p)}return o},Ve=Object.freeze(Object.defineProperty({__proto__:null,relationsTree:Le},Symbol.toStringTag,{value:"Module"})),M=(n,i)=>[...n.get(de).list.values()].find(s=>s.world===i),Pe=(n,i)=>A`
    <bim-color-input @input=${a=>{const s=a.target;n.color=new F(s.color)}} color=${i}></bim-color-input>
  `,$e=(n,i)=>{const{postproduction:o}=n,a=o.n8ao.configuration;return A`
    <bim-color-input @input=${r=>{const l=r.target;a.color=new F(l.color)}} color=${i}></bim-color-input>
  `},Ge=(n,i)=>{const{color:o,opacity:a}=JSON.parse(i),{postproduction:s}=n,{customEffects:r}=s;return A`
    <bim-color-input @input=${p=>{const{color:u,opacity:d}=p.target;r.lineColor=new F(u).getHex(),d&&(r.opacity=d/100)}} color=${o} opacity=${a*100}></bim-color-input>
  `},Me=(n,i)=>A`
    <bim-color-input @input=${a=>{const s=a.target,r=new F(s.color);n.material.uniforms.uColor.value=r,console.log(n.material.uniforms)}} color=${i}></bim-color-input>
  `,ke=(n,i)=>{const{postproduction:o}=n;return A`
    <bim-checkbox @change=${s=>{const r=s.target;o.setPasses({ao:r.checked})}} .checked=${i}></bim-checkbox>
  `},We=(n,i)=>{const{postproduction:o}=n;return A`
    <bim-checkbox @change=${s=>{const r=s.target;o.setPasses({gamma:r.checked})}} .checked=${i}></bim-checkbox>
  `},Fe=(n,i)=>{const{postproduction:o}=n;return A`
    <bim-checkbox @change=${s=>{const r=s.target;o.setPasses({custom:r.checked})}} .checked=${i}></bim-checkbox>
  `},T=(n,i,o,a=()=>{})=>A`
    <bim-checkbox .checked="${o}" @change="${r=>{const p=r.target.checked;n[i]=p,a(p)}}"></bim-checkbox> 
  `,x=(n,i,o,a)=>{const s={slider:!1,min:0,max:100,step:1,prefix:null,suffix:null,onInputSet:()=>{},...a},{slider:r,min:l,max:p,step:u,suffix:d,prefix:I,onInputSet:g}=s;return A`
    <bim-number-input
      .pref=${I}
      .suffix=${d}
      .slider=${r} 
      min=${l} 
      value="${o}" 
      max=${p} 
      step=${u} 
      @change="${t=>{const y=t.target.value;n[i]=y,g(y)}}"
    ></bim-number-input> 
  `},_e=n=>{const{components:i}=n,o=i.get(X);return A`<bim-table ${k(async s=>{var p,u,d,I,g;if(!s)return;const r=s;r.preserveStructureOnFilter=!0,r.dataTransform={Value:(e,t)=>{const f=t.World,y=o.list.get(f);if(!y)return e;const{scene:w,camera:b,renderer:c}=y,m=t.Name;if(m==="Grid"&&t.IsGridConfig&&typeof e=="boolean"){const h=M(i,y);return h?T(h,"visible",e):e}if(m==="Color"&&t.IsGridConfig&&typeof e=="string"){const h=M(i,y);return h?Me(h,e):e}if(m==="Distance"&&t.IsGridConfig&&typeof e=="number"){const h=M(i,y);return h?x(h.material.uniforms.uDistance,"value",e,{slider:!0,min:300,max:1e3}):e}if(m==="Size"&&t.IsGridConfig&&typeof e=="string"){const h=M(i,y);if(!h)return e;const{x:C,y:N}=JSON.parse(e),E=x(h.material.uniforms.uSize1,"value",C,{slider:!0,suffix:"m",prefix:"A",min:1,max:20}),O=x(h.material.uniforms.uSize2,"value",N,{slider:!0,suffix:"m",prefix:"B",min:1,max:20});return A`
            <div style="display: flex; gap: 0.25rem; width: 100%; flex-wrap: wrap">${E}${O}</div>
          `}if(m==="Near Frustum"&&b.three instanceof _&&typeof e=="number"){const h=b.three;return x(b.three,"near",e,{slider:!0,min:.1,max:10,step:.1,onInputSet:()=>h.updateProjectionMatrix()})}if(m==="Far Frustum"&&b.three instanceof _&&typeof e=="number"){const h=b.three;return x(b.three,"far",e,{slider:!0,min:300,max:2e3,step:10,onInputSet:()=>h.updateProjectionMatrix()})}if(m==="Field of View"&&b.three instanceof _&&typeof e=="number"){const h=b.three;return x(b.three,"fov",e,{slider:!0,min:10,max:120,onInputSet:()=>h.updateProjectionMatrix()})}if(m==="Invert Drag"&&b.hasCameraControls()&&typeof e=="boolean")return T(b.controls,"dollyDragInverted",e);if(m==="Dolly Speed"&&b.hasCameraControls()&&typeof e=="number")return x(b.controls,"dollySpeed",e,{slider:!0,min:.5,max:3,step:.1});if(m==="Truck Speed"&&b.hasCameraControls()&&typeof e=="number")return x(b.controls,"truckSpeed",e,{slider:!0,min:.5,max:6,step:.1});if(m==="Smooth Time"&&b.hasCameraControls()&&typeof e=="number")return x(b.controls,"smoothTime",e,{slider:!0,min:.01,max:2,step:.01});if(m==="Intensity"&&typeof e=="number"){if(t.Light&&typeof t.Light=="string"){const h=w.three.children.find(C=>C.uuid===t.Light);return h&&h instanceof G?x(h,"intensity",e,{slider:!0,min:0,max:10,step:.1}):e}if(t.IsAOConfig&&c instanceof S)return x(c.postproduction.n8ao.configuration,"intensity",e,{slider:!0,max:16,step:.1})}if(m==="Color"&&typeof e=="string"){const h=t.Light,C=w.three.children.find(N=>N.uuid===h);if(C&&C instanceof G)return Pe(C,e);if(t.IsAOConfig&&c instanceof S)return $e(c,e)}if(m==="Ambient Oclussion"&&typeof e=="boolean"&&t.IsAOConfig&&c instanceof S)return ke(c,e);if(m==="Half Resolution"&&t.IsAOConfig&&c instanceof S&&typeof e=="boolean")return T(c.postproduction.n8ao.configuration,"halfRes",e);if(m==="Screen Space Radius"&&t.IsAOConfig&&c instanceof S&&typeof e=="boolean")return T(c.postproduction.n8ao.configuration,"screenSpaceRadius",e);if(m==="Radius"&&t.IsAOConfig&&c instanceof S&&typeof e=="number")return x(c.postproduction.n8ao.configuration,"aoRadius",e,{slider:!0,max:2,step:.1});if(m==="Denoise Samples"&&t.IsAOConfig&&c instanceof S&&typeof e=="number")return x(c.postproduction.n8ao.configuration,"denoiseSamples",e,{slider:!0,min:1,max:16});if(m==="Samples"&&t.IsAOConfig&&c instanceof S&&typeof e=="number")return x(c.postproduction.n8ao.configuration,"aoSamples",e,{slider:!0,min:1,max:16});if(m==="Denoise Radius"&&t.IsAOConfig&&c instanceof S&&typeof e=="number")return x(c.postproduction.n8ao.configuration,"denoiseRadius",e,{slider:!0,min:0,max:16,step:.1});if(m==="Distance Falloff"&&t.IsAOConfig&&c instanceof S&&typeof e=="number")return x(c.postproduction.n8ao.configuration,"distanceFalloff",e,{slider:!0,min:0,max:4,step:.1});if(m==="Directional Light"&&t.Light&&typeof t.Light=="string"&&typeof e=="boolean"){const h=w.three.children.find(C=>C.uuid===t.Light);return h&&h instanceof G?T(h,"visible",e):e}if(m==="Ambient Light"&&t.Light&&typeof t.Light=="string"&&typeof e=="boolean"){const h=w.three.children.find(C=>C.uuid===t.Light);return h&&h instanceof G?T(h,"visible",e):e}if(m==="Position"&&t.Light&&typeof t.Light=="string"&&typeof e=="string"){const h=w.three.children.find(D=>D.uuid===t.Light);if(!(h&&h instanceof G))return e;const{x:C,y:N,z:E}=JSON.parse(e),O=x(h.position,"x",C,{slider:!0,prefix:"X",suffix:"m",min:-50,max:50}),$=x(h.position,"y",N,{slider:!0,prefix:"Y",suffix:"m",min:-50,max:50}),L=x(h.position,"z",E,{slider:!0,prefix:"Z",suffix:"m",min:-50,max:50});return A`
            <div style="display: flex; gap: 0.25rem; width: 100%; flex-wrap: wrap">${O}${$}${L}</div>
          `}return m==="Custom Effects"&&t.IsCEConfig&&c instanceof S&&typeof e=="boolean"?Fe(c,e):m==="Color"&&t.IsOutlineConfig&&c instanceof S&&typeof e=="string"?Ge(c,e):m==="Tolerance"&&t.IsOutlineConfig&&c instanceof S&&typeof e=="number"?x(c.postproduction.customEffects,"tolerance",e,{slider:!0,min:0,max:6,step:.01}):m==="Outline"&&t.IsOutlineConfig&&c instanceof S&&typeof e=="boolean"?T(c.postproduction.customEffects,"outlineEnabled",e):m==="Gloss"&&t.IsGlossConfig&&c instanceof S&&typeof e=="boolean"?T(c.postproduction.customEffects,"glossEnabled",e):m==="Min"&&t.IsGlossConfig&&c instanceof S&&typeof e=="number"?x(c.postproduction.customEffects,"minGloss",e,{slider:!0,min:-.5,max:.5,step:.01}):m==="Max"&&t.IsGlossConfig&&c instanceof S&&typeof e=="number"?x(c.postproduction.customEffects,"maxGloss",e,{slider:!0,min:-.5,max:.5,step:.01}):m==="Exponent"&&t.IsGlossConfig&&c instanceof S&&typeof e=="number"?x(c.postproduction.customEffects,"glossExponent",e,{slider:!0,min:0,max:5,step:.01}):m==="Gamma Correction"&&t.IsGammaConfig&&c instanceof S&&typeof e=="boolean"?We(c,e):e}},r.addEventListener("cellcreated",({detail:e})=>{const t=e.cell.parentNode;if(!t)return;const f=t.querySelector("bim-table-cell[column='Name']"),y=t.querySelector("bim-table-cell[column='Value']");f&&!y&&(f.style.gridColumn="1 / -1")});const l=[];for(const[,e]of o.list){const{scene:t,camera:f,renderer:y}=e,w=M(i,e),b={data:{Name:e instanceof ce&&e.name||e.uuid},children:[]};if(t){const c={data:{Name:"Scene"}};if(w){const C={data:{Name:"Grid",Value:w.three.visible,World:e.uuid,IsGridConfig:!0},children:[{data:{Name:"Color",get Value(){return`#${w.material.uniforms.uColor.value.getHexString()}`},World:e.uuid,IsGridConfig:!0}},{data:{Name:"Size",get Value(){const N=w.material.uniforms.uSize1.value,E=w.material.uniforms.uSize2.value;return JSON.stringify({x:N,y:E})},World:e.uuid,IsGridConfig:!0}},{data:{Name:"Distance",Value:w.material.uniforms.uDistance.value,World:e.uuid,IsGridConfig:!0}}]};c.children||(c.children=[]),c.children.push(C)}const m=t.three.children.filter(C=>C instanceof le);for(const C of m){const N={data:{Name:"Directional Light",Value:C.visible,World:e.uuid,Light:C.uuid},children:[{data:{Name:"Position",Value:JSON.stringify(C.position),World:e.uuid,Light:C.uuid}},{data:{Name:"Intensity",Value:C.intensity,World:e.uuid,Light:C.uuid}},{data:{Name:"Color",Value:`#${C.color.getHexString()}`,World:e.uuid,Light:C.uuid}}]};c.children||(c.children=[]),c.children.push(N)}const h=t.three.children.filter(C=>C instanceof ue);for(const C of h){const N={data:{Name:"Ambient Light",Value:C.visible,World:e.uuid,Light:C.uuid},children:[{data:{Name:"Intensity",Value:C.intensity,World:e.uuid,Light:C.uuid}},{data:{Name:"Color",Value:`#${C.color.getHexString()}`,World:e.uuid,Light:C.uuid}}]};c.children||(c.children=[]),c.children.push(N)}c.children&&((p=c.children)==null?void 0:p.length)>0&&((u=b.children)==null||u.push(c))}if(f.three instanceof _){const c={data:{Name:"Perspective Camera"},children:[{data:{Name:"Near Frustum",Value:f.three.near,World:e.uuid}},{data:{Name:"Far Frustum",Value:f.three.far,World:e.uuid}},{data:{Name:"Field of View",Value:f.three.fov,World:e.uuid}}]};if(f.hasCameraControls()){const{controls:m}=f,h={dollyDragInverted:"Invert Drag",dollySpeed:"Dolly Speed",truckSpeed:"Truck Speed",smoothTime:"Smooth Time"};for(const C in h){const N=m[C];N!=null&&((d=c.children)==null||d.push({data:{Name:h[C],Value:N,World:e.uuid}}))}}(I=b.children)==null||I.push(c)}if(y instanceof S){const{postproduction:c}=y,m=c.n8ao.configuration,h={data:{Name:"Renderer"},children:[{data:{Name:"Gamma Correction",Value:c.settings.gamma??!1,World:e.uuid,IsGammaConfig:!0}},{data:{Name:"Ambient Oclussion",Value:c.settings.ao??!1,World:e.uuid,IsAOConfig:!0},children:[{data:{Name:"Samples",Value:m.aoSamples,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Color",Value:`#${m.color.getHexString()}`,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Half Resolution",Value:m.halfRes,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Screen Space Radius",Value:m.screenSpaceRadius,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Radius",Value:m.aoRadius,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Intensity",Value:m.intensity,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Distance Falloff",Value:m.distanceFalloff,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Denoise Samples",Value:m.denoiseSamples,World:e.uuid,IsAOConfig:!0}},{data:{Name:"Denoise Radius",Value:m.denoiseRadius,World:e.uuid,IsAOConfig:!0}}]},{data:{Name:"Custom Effects",Value:c.settings.custom??!1,World:e.uuid,IsCEConfig:!0},children:[{data:{Name:"Gloss",Value:c.customEffects.glossEnabled,World:e.uuid,IsGlossConfig:!0},children:[{data:{Name:"Min",Value:c.customEffects.minGloss,World:e.uuid,IsGlossConfig:!0}},{data:{Name:"Max",Value:c.customEffects.maxGloss,World:e.uuid,IsGlossConfig:!0}},{data:{Name:"Exponent",Value:c.customEffects.glossExponent,World:e.uuid,IsGlossConfig:!0}}]},{data:{Name:"Outline",Value:c.customEffects.outlineEnabled,World:e.uuid,IsOutlineConfig:!0},children:[{data:{Name:"Color",get Value(){const C=new F(c.customEffects.lineColor),N=c.customEffects.opacity;return JSON.stringify({color:`#${C.getHexString()}`,opacity:N})},World:e.uuid,IsOutlineConfig:!0}},{data:{Name:"Tolerance",Value:c.customEffects.tolerance,World:e.uuid,IsOutlineConfig:!0}}]}]}]};(g=b.children)==null||g.push(h)}l.push(b)}r.columns=[{name:"Name",width:"11rem"}],r.hiddenColumns=["World","Light","IsAOConfig","IsCEConfig","IsGlossConfig","IsOutlineConfig","IsGammaConfig","IsGridConfig"],r.data=l})} headers-hidden expanded></bim-table>`},je=(n,i=!0)=>{const o=P.create(_e,n);if(i){const[a]=o,s=()=>o[1](),{components:r}=n,l=r.get(X);l.onDisposed.add(a.remove);for(const[,p]of l.list)p.onDisposed.add(s);a.addEventListener("disconnected",()=>{l.onDisposed.remove(a.remove);for(const[,p]of l.list)p.onDisposed.remove(s)})}return o},ve=Object.freeze(Object.defineProperty({__proto__:null,worldsConfiguration:je},Symbol.toStringTag,{value:"Module"})),ze={...pe,...ye,...we,...De,...Ve,...ve};export{ze as t};
